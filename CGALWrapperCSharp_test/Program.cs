using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Runtime.InteropServices;

namespace CGALWrapperCSharp_test
{
    class Program
    { 
        [DllImport("CGALWrapper", EntryPoint = "getPolygonSpine", CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Ansi)]
        public static extern IntPtr getPolygonSpine(string wktPolygon);
               
        static void Main(string[] args)
        { 
            string wktPol = "POLYGON((-375.9521484375 40.44694705960049,-374.80957031249994 40.71395582628605,-374.06249999999994 41.27780646738182,-373.359375 42.09822241118974,-372.48046875 42.58544425738492,-370.546875 42.61779143282345,-368.2177734375 42.13082130188812,-367.119140625 41.0130657870063,-367.470703125 39.707186656826565,-369.755859375 39.06184913429155,-372.26074218749994 38.95940879245421,-374.2822265625 39.30029918615028,-375.64453124999994 39.09596293630548,-376.78710937499994 37.96152331396614,-376.83105468749994 36.914764288955936,-376.3916015625 35.63944106897394,-375.16113281249994 34.488447837809304,-372.52441406249994 33.54139466898276,-369.88769531249994 33.28461996888768,-367.1630859375 33.247875947924385,-363.9990234375 33.651208299204995,-360.65917968749994 34.27083595165,-358.76953125 35.38904996691166,-357.9345703125 36.914764288955936,-357.9345703125 38.134556577054155,-358.330078125 39.23225314171492,-360.263671875 39.97712009843963,-362.548828125 40.17887331434699,-363.20800781249994 39.707186656826565,-361.7138671875 39.23225314171492,-360.52734375 38.685509760012025,-359.47265624999994 38.09998264736481,-359.51660156249994 36.844460740795625,-360.703125 35.46066995149532,-363.25195312499994 34.6332079113796,-367.3828125 34.01624188966704,-370.8544921875 34.30714385628805,-374.501953125 35.42486791930558,-375.64453124999994 36.703659597194545,-375.24902343749994 38.134556577054155,-373.1396484375 38.44498466889473,-370.107421875 38.169114135560875,-367.734375 38.27268853598099,-366.15234374999994 39.1300602421351,-365.8447265625 40.27952566881291,-365.75683593749994 41.244772343082076,-366.7236328125 42.22851735620853,-368.04199218749994 43.06888777416961,-370.98632812499994 43.2612061247998,-372.65625 43.357138222110535,-374.06249999999994 43.10098287618854,-374.677734375 42.22851735620853,-375.42480468749994 41.541477666790286,-376.5234375 41.57436130598913,-376.25976562499994 42.22851735620853,-377.97363281249994 42.293564192170095,-377.62207031249994 41.73852846935915,-379.2919921875 41.80407814427238,-380.39062499999994 42.391008609205045,-381.00585937499994 42.650121813680244,-381.97265625 42.293564192170095,-380.39062499999994 41.672911819602064,-379.4677734375 40.88029480552822,-377.88574218749994 40.74725696280419,-375.9521484375 40.44694705960049))";

            IntPtr pstr = getPolygonSpine(wktPol);
            string someshit = Marshal.PtrToStringAnsi(pstr);
            Console.WriteLine(someshit);

            Console.ReadLine();              
        }
    
    }
}
